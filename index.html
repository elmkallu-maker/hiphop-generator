<!DOCTYPE html>
<html lang="fi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HIP HOP GENERATOR PRO</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { 
            background: #050812; 
            color: #e0e0e0; 
            font-family: Arial, sans-serif;
            padding: 20px;
        }
        h1 { 
            color: #00ff88; 
            font-size: 2.5rem;
            text-shadow: 0 0 20px #00ff88;
            margin-bottom: 1rem;
            text-align: center;
        }
        .subtitle {
            color: #00d9ff;
            text-align: center;
            margin-bottom: 2rem;
            font-size: 1.1rem;
        }
        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 2rem;
            margin-bottom: 2rem;
            max-width: 1600px;
            margin-left: auto;
            margin-right: auto;
        }
        .panel {
            background: rgba(15, 23, 42, 0.9);
            border: 2px solid #ff006e;
            border-radius: 12px;
            padding: 1.5rem;
            box-shadow: 0 8px 32px rgba(255, 0, 110, 0.2);
        }
        .panel:hover {
            border-color: #00ff88;
            box-shadow: 0 8px 32px rgba(0, 255, 136, 0.3);
        }
        .panel-title {
            color: #00ff88;
            font-size: 1.1rem;
            text-transform: uppercase;
            margin-bottom: 1rem;
            letter-spacing: 1px;
        }
        label {
            display: block;
            color: #00d9ff;
            font-size: 0.85rem;
            text-transform: uppercase;
            margin-top: 0.8rem;
            margin-bottom: 0.3rem;
        }
        input[type="text"], select, textarea {
            width: 100%;
            padding: 0.7rem;
            margin: 0.3rem 0 0.8rem 0;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid #00d9ff;
            border-radius: 6px;
            color: #e0e0e0;
            font-family: Arial, sans-serif;
            font-size: 0.9rem;
        }
        input[type="range"] {
            padding: 0;
            margin: 0;
        }
        input[type="text"]:focus, select:focus {
            outline: none;
            border-color: #00ff88;
            box-shadow: 0 0 15px rgba(0, 255, 136, 0.4);
        }
        button {
            width: 100%;
            padding: 0.9rem;
            margin-top: 1rem;
            background: linear-gradient(135deg, #00ff88, #00d9ff);
            color: #050812;
            border: none;
            border-radius: 6px;
            font-weight: bold;
            cursor: pointer;
            text-transform: uppercase;
            letter-spacing: 1px;
            font-size: 0.9rem;
        }
        button:hover {
            transform: scale(1.05);
            box-shadow: 0 6px 25px rgba(0, 255, 136, 0.5);
        }
        button:active {
            transform: scale(0.98);
        }
        .output-box {
            background: rgba(10, 14, 39, 0.9);
            border: 2px solid #00ff88;
            border-radius: 12px;
            padding: 2rem;
            margin: 2rem auto;
            max-width: 1600px;
            min-height: 200px;
        }
        .output-label {
            color: #ffaa00;
            font-size: 0.8rem;
            text-transform: uppercase;
            margin-bottom: 1rem;
        }
        .output-content {
            color: #00ff88;
            font-family: monospace;
            font-size: 0.9rem;
            line-height: 1.6;
            white-space: pre-wrap;
            word-wrap: break-word;
        }
        .tab-buttons {
            display: flex;
            gap: 0.5rem;
            margin-bottom: 1.5rem;
            flex-wrap: wrap;
        }
        .tab-btn {
            padding: 0.6rem 1.2rem;
            background: transparent;
            border: 2px solid #00d9ff;
            color: #00d9ff;
            cursor: pointer;
            border-radius: 6px;
            text-transform: uppercase;
            font-size: 0.8rem;
        }
        .tab-btn.active {
            background: #00ff88;
            border-color: #00ff88;
            color: #050812;
            box-shadow: 0 0 20px rgba(0, 255, 136, 0.5);
        }
        .tab-btn:hover {
            border-color: #00ff88;
        }
        .action-buttons {
            display: flex;
            gap: 0.5rem;
            margin-top: 1rem;
        }
        .copy-btn, .save-btn, .load-btn {
            flex: 1;
            padding: 0.6rem;
            background: rgba(0, 255, 136, 0.2);
            border: 1px solid #00ff88;
            color: #00ff88;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.75rem;
            font-weight: bold;
            transition: all 0.2s;
        }
        .copy-btn:hover, .save-btn:hover, .load-btn:hover {
            background: rgba(0, 255, 136, 0.4);
            box-shadow: 0 0 10px rgba(0, 255, 136, 0.3);
        }
        .toggle-theme {
            position: fixed;
            top: 20px;
            right: 20px;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: rgba(0, 255, 136, 0.1);
            border: 2px solid #00ff88;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            z-index: 1000;
            transition: all 0.3s;
        }
        .toggle-theme:hover {
            background: rgba(0, 255, 136, 0.2);
            box-shadow: 0 0 15px rgba(0, 255, 136, 0.4);
        }
        body.light-mode {
            background: #f5f5f5;
            color: #1a1a1a;
        }
        body.light-mode h1 {
            color: #00aa44;
            text-shadow: 0 0 20px rgba(0, 170, 68, 0.3);
        }
        body.light-mode .subtitle {
            color: #0088aa;
        }
        body.light-mode .panel {
            background: rgba(240, 240, 245, 0.95);
            border-color: #aa0066;
        }
        body.light-mode .panel:hover {
            border-color: #00aa44;
        }
        body.light-mode .panel-title {
            color: #00aa44;
        }
        body.light-mode label {
            color: #0088aa;
        }
        body.light-mode input[type="text"], 
        body.light-mode select, 
        body.light-mode textarea {
            background: rgba(255, 255, 255, 0.8);
            border-color: #0088aa;
            color: #1a1a1a;
        }
        body.light-mode button {
            background: linear-gradient(135deg, #00aa44, #0088aa);
            color: #f5f5f5;
        }
        body.light-mode .output-box {
            background: rgba(240, 245, 250, 0.95);
            border-color: #00aa44;
        }
        body.light-mode .output-content {
            color: #00aa44;
        }
        body.light-mode .toggle-theme {
            background: rgba(0, 170, 68, 0.1);
            border-color: #00aa44;
        }
    </style>
</head>
<body>
    <button class="toggle-theme" id="themeToggle" onclick="toggleTheme()">ğŸŒ™</button>
    <h1>ğŸ¤ HIP HOP GENERATOR PRO ğŸ¤</h1>
    <p class="subtitle">LYRIIKKA â€¢ VISUAALIT â€¢ PERSOONA â€¢ COUNTRY-TRAP ğŸ¤  â€¢ KALEVALA ğŸŒ™</p>

    <div class="grid">
        <div class="panel">
            <div class="panel-title">ğŸµ LYRIIKKA GENERATOR</div>
            <label>TEEMA / AIHE</label>
            <input type="text" id="lyricsTheme" placeholder="katujen elÃ¤mÃ¤, rakkaus...">
            <label>TYYLI</label>
            <select id="lyricsStyle">
                <option value="trap">TRAP ğŸ”¥</option>
                <option value="boombap">BOOM BAP ğŸ¥</option>
                <option value="drill">DRILL ğŸ’¯</option>
                <option value="gospel">GOSPEL ğŸ™</option>
                <option value="oldschool">OLD SCHOOL ğŸ•°ï¸</option>
                <option value="countrytrap">COUNTRY-TRAP ğŸ¤ ğŸ”¥</option>
                <option value="vainamonen">VÃ„INÃ„MÃ–INEN ğŸŒ™âœ¨</option>
                <option value="hardelo">HÃ„RDELÃ–T ğŸ»ğŸ¶</option>
            </select>
            <label>MIELIALA</label>
            <select id="lyricsEmotio">
                <option value="aggressive">AGGRESSIIVINEN ğŸ’¢</option>
                <option value="smooth">SMOOTH ğŸ˜</option>
                <option value="introspective">INTROSPEKTIIVINEN ğŸ¤”</option>
                <option value="party">PARTY ğŸ‰</option>
                <option value="dark">PIMEÃ„ & NOIR ğŸŒ™</option>
            </select>
            <label>RIIMIEN TIHEYS</label>
            <div style="display:flex; gap:0.5rem; align-items:center;">
                <input type="range" id="rhymeIntensity" min="1" max="10" value="7" style="flex:1;">
                <span id="rhymeValue" style="color:#00ff88;">7</span>
            </div>
            <button onclick="generateLyrics()">âš¡ GENEROI LYRIIKKA âš¡</button>
        </div>

        <div class="panel">
            <div class="panel-title">ğŸ‘¤ PERSOONA GENERATOR</div>
            <label>PERSOONA TYYPPI</label>
            <select id="personaType">
                <option value="street">KATU-POETA ğŸ™ï¸</option>
                <option value="introspective">AJATTELIJA ğŸ§ </option>
                <option value="storyteller">TARINAN KERTOJA ğŸ“–</option>
                <option value="producer">TUOTTAJA-ARTISTI ğŸ›ï¸</option>
                <option value="spiritual">HENKINEN JOHTAJA âœ¨</option>
                <option value="rebel">KAPINALLINEN ğŸ”¥</option>
                <option value="countryballer">COUNTRY BALLER ğŸ¤ </option>
                <option value="vainamoinenbard">VÃ„INÃ„MÃ–INEN BARDI ğŸŒ™</option>
                <option value="hardelosoitaja">HÃ„RDELÃ–T SOITAJA ğŸ»</option>
            </select>
            <label>Ã„Ã„NI & AKSENTTI</label>
            <select id="voiceType">
                <option value="deep">SYVÃ„ & MATALA ğŸ”Š</option>
                <option value="clear">SELKEÃ„ & TERÃ„VÃ„ ğŸ“¢</option>
                <option value="raspy">RÃ–YHKEÃ„ & RAAKAILE ğŸŒªï¸</option>
                <option value="melodic">MELODINEN ğŸ¶</option>
                <option value="robotic">ROBOTTI-VAIKUTUS ğŸ¤–</option>
                <option value="southern">ETELÃ„INEN AKSENTTI ğŸ¤ </option>
                <option value="karelian">KARJALAINEN AKSENTTI ğŸŒ²</option>
            </select>
            <label>AGGRESSIIVISUUS</label>
            <div style="display:flex; gap:0.5rem; align-items:center;">
                <input type="range" id="aggression" min="1" max="10" value="5" style="flex:1;">
                <span id="aggValue" style="color:#00ff88;">5</span>
            </div>
            <button onclick="generatePersona()">ğŸ‘¤ GENEROI PERSOONA ğŸ‘¤</button>
        </div>

        <div class="panel">
            <div class="panel-title">ğŸ¥ BEAT PATTERN</div>
            <label>TEMPO (BPM)</label>
            <select id="beatTempo">
                <option value="90">SLOW 90 BPM ğŸ¢</option>
                <option value="110">CHILL 110 BPM ğŸ˜</option>
                <option value="140">STANDARD 140 BPM âš¡</option>
                <option value="170">FAST 170 BPM ğŸ”¥</option>
                <option value="200">EXTREME 200 BPM ğŸ’¥</option>
            </select>
            <label>DRUM PATTERN</label>
            <select id="drumPattern">
                <option value="808">808 HEAVY ğŸ’¥</option>
                <option value="lofi">LO-FI CHILL â˜•</option>
                <option value="crisp">CRISP SNARES ğŸ¯</option>
                <option value="boom">BOOM BAP CLASSIC ğŸ¥</option>
                <option value="glitchy">GLITCHY/EXP ğŸŒ€</option>
                <option value="country">COUNTRY TWANG ğŸ¤ </option>
                <option value="vainamonen">VÃ„INÃ„MÃ–INEN FOLK ğŸŒ™</option>
                <option value="hardelo">HÃ„RDELÃ–T VIULU ğŸ»</option>
            </select>
            <label>INSTRUMENTAATIO</label>
            <select id="instruments">
                <option value="dark">PIMEÃ„ & MINIMAL ğŸŒ‘</option>
                <option value="jazzy">JAZZ-VAIKUTUS ğŸ·</option>
                <option value="orchestral">ORKESTRAL ğŸ»</option>
                <option value="synth">SYNTH-HEAVY ğŸ¹</option>
                <option value="mixed">SEKOITETTU ğŸµ</option>
                <option value="countrymusic">COUNTRY-KITARA ğŸ¸</option>
                <option value="kantele">KANTELE & JOUHIKKO ğŸŒ™</option>
                <option value="karelia">KARJALAN-FOLK ğŸŒ²</option>
            </select>
            <button onclick="generateBeat()">ğŸ¥ GENEROI BEAT ğŸ¥</button>
        </div>

        <div class="panel">
            <div class="panel-title">ğŸ¨ VISUAALI GENERATOR</div>
            <label>TYYLI</label>
            <select id="visualStyle">
                <option value="neon-noir">NEON-NOIR ğŸŒ™ğŸ’«</option>
                <option value="cyberpunk">CYBERPUNK ğŸ¤–âœ¨</option>
                <option value="graffiti">GRAFFITI-URBAN ğŸ¨</option>
                <option value="dark-cinematic">PIMEÃ„-SINEMATINEN ğŸ¬</option>
                <option value="gospel-bright">GOSPEL-KIRKAS â˜€ï¸</option>
                <option value="countrywood">COUNTRY-WOOD ğŸ¤ ğŸŒ¾</option>
                <option value="vainamonen">VÃ„INÃ„MÃ–INEN RUNOUS ğŸŒ™</option>
                <option value="hardelo">HÃ„RDELÃ–T PERINNE ğŸ»</option>
            </select>
            <label>VÃ„RIPALETTTI</label>
            <select id="colorPalette">
                <option value="neon">NEON (VIHREÃ„/PINKKI) ğŸŒˆ</option>
                <option value="cool">COOL (SININEN/PURPPURA) ğŸ’œ</option>
                <option value="warm">LÃ„MMIN (ORANSSI) ğŸ”¥</option>
                <option value="monochrome">MUSTAVALKOINEN âš«âšª</option>
                <option value="holo">HOLOGRAFINEN âœ¨</option>
                <option value="dusty">PÃ–LYPEIKKO (RUSKEA) ğŸ¤ </option>
                <option value="karelian">KARJALAINEN KULTA ğŸŒ²</option>
            </select>
            <label>PÃ„Ã„ELEMENTTI</label>
            <select id="visualElement">
                <option value="portrait">PORTRETTI/DJ ğŸ¤</option>
                <option value="cityscape">KAUPUNKIMAISEMA ğŸ™ï¸</option>
                <option value="abstract">ABSTRAKTI ğŸŒ€</option>
                <option value="typography">TYPOGRAFIA ğŸ”¤</option>
                <option value="mixed">SEKOITETTU ğŸ­</option>
                <option value="countryside">MAALAISMAISEMA ğŸ¤ </option>
                <option value="runelaulaja">RUNELAULAJA ğŸŒ™</option>
                <option value="folk">FOLK-PERINNE ğŸ»</option>
            </select>
            <button onclick="generateVisuals()">ğŸ¨ RENDEROI VISUAALIT ğŸ¨</button>
        </div>

        <div class="panel">
            <div class="panel-title">âš™ï¸ KEHITTYNEET ASETUKSET</div>
            <label>ALUSTA</label>
            <select id="advancedMode">
                <option value="balanced">TASAPAINOITETTU ğŸ’¯</option>
                <option value="aggressive">AGGRESSIIVINEN ğŸ’¢</option>
                <option value="experimental">KOKEELLINEN ğŸ§ª</option>
                <option value="lofi">LO-FI VIBES â˜•</option>
                <option value="countrytrap">COUNTRY-TRAP ğŸ¤ ğŸ”¥</option>
                <option value="vainamonen">VÃ„INÃ„MÃ–INEN MODE ğŸŒ™</option>
                <option value="hardelo">HÃ„RDELÃ–T MODE ğŸ»</option>
                <option value="fusion">KALEVALA FUSION ğŸŒ™âœ¨</option>
            </select>
            <label>KOMPLEKSISUUS</label>
            <div style="display:flex; gap:0.5rem; align-items:center;">
                <input type="range" id="complexity" min="1" max="10" value="6" style="flex:1;">
                <span id="complexValue" style="color:#00ff88;">6</span>
            </div>
            <label style="margin-top:1rem;">LISÃ„EFEKTIT</label>
            <div style="display:grid; grid-template-columns:1fr 1fr; gap:0.5rem;">
                <label style="display:flex; align-items:center; gap:0.4rem;">
                    <input type="checkbox" id="addReverb" style="width:16px; height:16px;">
                    <span style="color:#00d9ff; font-size:0.8rem;">REVERB</span>
                </label>
                <label style="display:flex; align-items:center; gap:0.4rem;">
                    <input type="checkbox" id="addDelay" style="width:16px; height:16px;">
                    <span style="color:#00d9ff; font-size:0.8rem;">DELAY</span>
                </label>
                <label style="display:flex; align-items:center; gap:0.4rem;">
                    <input type="checkbox" id="addDistortion" style="width:16px; height:16px;">
                    <span style="color:#00d9ff; font-size:0.8rem;">DISTORTION</span>
                </label>
                <label style="display:flex; align-items:center; gap:0.4rem;">
                    <input type="checkbox" id="addGlitch" style="width:16px; height:16px;">
                    <span style="color:#00d9ff; font-size:0.8rem;">GLITCH</span>
                </label>
            </div>
            <button onclick="generateFull()">ğŸš€ TÃ„YSI SEKOITUS ğŸš€</button>
        </div>

        <div class="panel">
            <div class="panel-title">ğŸ² SATUNNAINEN</div>
            <label>RAJOITUKSET</label>
            <select id="randomConstraint">
                <option value="none">TÃ„YSIN SATUNNAINEN</option>
                <option value="lyrics-only">VAIN LYRIIKKA</option>
                <option value="beat-only">VAIN BEAT</option>
                <option value="visual-only">VAIN VISUAALIT</option>
                <option value="persona-only">VAIN PERSOONA</option>
                <option value="countrytrap-only">VAIN COUNTRY-TRAP ğŸ¤ </option>
                <option value="vainamonen-only">VAIN VÃ„INÃ„MÃ–INEN ğŸŒ™</option>
                <option value="hardelo-only">VAIN HÃ„RDELÃ–T ğŸ»</option>
            </select>
            <button onclick="generateRandom()">ğŸ² SATUNNAINEN ğŸ²</button>
        </div>
    </div>

    <div class="output-box">
        <div class="tab-buttons">
            <button class="tab-btn active" onclick="switchTab('lyrics')">LYRIIKKA</button>
            <button class="tab-btn" onclick="switchTab('persona')">PERSOONA</button>
            <button class="tab-btn" onclick="switchTab('beat')">BEAT</button>
            <button class="tab-btn" onclick="switchTab('visuals')">VISUAALIT</button>
        </div>
        <div id="lyricsOutput" style="display:block;">
            <div class="output-label">ğŸ“ GENEROITU LYRIIKKA</div>
            <div class="output-content" id="lyricsContent">[Klikkaa GENEROI LYRIIKKA]</div>
        </div>
        <div id="personaOutput" style="display:none;">
            <div class="output-label">ğŸ‘¤ GENEROITU PERSOONA</div>
            <div class="output-content" id="personaContent">[Klikkaa GENEROI PERSOONA]</div>
        </div>
        <div id="beatOutput" style="display:none;">
            <div class="output-label">ğŸ¥ BEAT SPESIFIKAATIOT</div>
            <div class="output-content" id="beatContent">[Klikkaa GENEROI BEAT]</div>
        </div>
        <div id="visualsOutput" style="display:none;">
            <div class="output-label">ğŸ¨ VISUAALI KUVAUS</div>
            <div class="output-content" id="visualsContent">[Klikkaa RENDEROI VISUAALIT]</div>
        </div>
        <div class="action-buttons">
            <button class="copy-btn" onclick="copyOutput()">ğŸ“‹ KOPIOI</button>
            <button class="save-btn" onclick="saveOutput()">ğŸ’¾ TALLENNA</button>
            <button class="load-btn" onclick="loadOutput()">ğŸ“‚ LATAA</button>
        </div>
    </div>

    <script>
        document.getElementById('rhymeIntensity').addEventListener('input', (e) => {
            document.getElementById('rhymeValue').textContent = e.target.value;
        });
        document.getElementById('aggression').addEventListener('input', (e) => {
            document.getElementById('aggValue').textContent = e.target.value;
        });
        document.getElementById('complexity').addEventListener('input', (e) => {
            document.getElementById('complexValue').textContent = e.target.value;
        });

        function switchTab(tab) {
            document.querySelectorAll('[id$="Output"]').forEach(box => box.style.display = 'none');
            document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));
            const tabMap = {'lyrics': 'lyricsOutput', 'persona': 'personaOutput', 'beat': 'beatOutput', 'visuals': 'visualsOutput'};
            document.getElementById(tabMap[tab]).style.display = 'block';
            event.target.classList.add('active');
        }

        function generateLyrics() {
            const theme = document.getElementById('lyricsTheme').value || 'elÃ¤mÃ¤';
            const style = document.getElementById('lyricsStyle').value;
            let output = `[INTRO]\n${theme.toUpperCase()}\n\n`;
            if (style === 'countrytrap') {
                output += `[VERSE 1]\nPickup-autossa viina, hattu pÃ¤Ã¤ssÃ¤\nCountry-soul sydÃ¤messÃ¤, trap-beat korvissa\nMaalaismies kaupungilla, sekoitus loistaa\n\n[VERSE 2]\nGitaara soittelee, trap-drumsit paukkuvat\nLÃ¤nsi ja itÃ¤ nyt yhdessÃ¤ ottaa\n\n[OUTRO]\nCountry-trap eternityyn...`;
            } else if (style === 'vainamonen') {
                output += `[VERSE 1]\nKalevalan sanoja, runojen virtaa\nMystisen noitien tie, haltojen maita\nVÃ¤ki-isÃ¤ laulaa, salaisia saloja\nPohjan perÃ¤Ã¤ kutsuu\n\n[VERSE 2]\nVesi kantaa runoja, metsÃ¤ siivin laulaa\nPohjolan kaukainen koti kutsuu mieltÃ¤\n\n[OUTRO]\nRunot lepÃ¤Ã¤vÃ¤t...`;
            } else if (style === 'hardelo') {
                output += `[VERSE 1]\nViulu soivaa, kihlojen kiiluu\nVanhan kansan tanssia, illan iloissa\nHÃ¤rdelÃ¶t paukkuvat, sydÃ¤n sykkii\nPellava ja perinne, polkaissa pyÃ¶rii\n\n[VERSE 2]\nJouhikko johtaa, rummut raikaa\nMusiikan magia, sukujen muistissa\n\n[OUTRO]\nTanssi, kunnes aamu koittaa...`;
            } else {
                output += `[VERSE 1]\nKatujen pulssi sydÃ¤messÃ¤ palaa\nRitmi on elÃ¤mÃ¤Ã¤, flow on kuolematonta\n\n[VERSE 2]\nMinÃ¤ kirjoitan historiaa joka beatissa\nMuista menneisyys, vaan elÃ¤ nyt\n\n[OUTRO]\nBeat fades out...`;
            }
            document.getElementById('lyricsContent').textContent = output;
        }

        function generatePersona() {
            const personaType = document.getElementById('personaType').value;
            const voiceType = document.getElementById('voiceType').value;
            let personas = {
                vainamoinenbard: `NIMI: VÃ„INÃ„MÃ–INEN\nPERSOONA: Mystinen runolaulaja ğŸŒ™`,
                hardelosoitaja: `NIMI: HÃ„RDELÃ–T JOUNI\nPERSOONA: Karjalainen viulistikko ğŸ»`,
                countryballer: `NIMI: DUSTY ROADS\nPERSOONA: LÃ¤nnen trap-artisti ğŸ¤ `,
            };
            let output = personas[personaType] || `NIMI: STREET KING\nPERSOONA: Kaupungin sydÃ¤n`;
            output += `\n\nÃ„Ã„NI: ${voiceType.toUpperCase()}\nğŸ¤ Valmis!`;
            document.getElementById('personaContent').textContent = output;
        }

        function generateBeat() {
            const tempo = document.getElementById('beatTempo').value;
            const drumPattern = document.getElementById('drumPattern').value;
            let vibe = 'âœ¨ HYPNOTTINEN';
            if (drumPattern === 'country') vibe = 'ğŸ¤  COUNTRY-TRAP FUSION';
            if (drumPattern === 'vainamonen') vibe = 'ğŸŒ™ VÃ„INÃ„MÃ–INEN FOLK-FUSION';
            if (drumPattern === 'hardelo') vibe = 'ğŸ» HÃ„RDELÃ–T VIULUFOLK';
            const output = `BEAT SPESIFIKAATIOT:\n\nğŸµ TEMPO: ${tempo} BPM\nğŸ¥ PATTERN: ${drumPattern.toUpperCase()}\n\nRAKENNE:\n- Intro (4 baaria)\n- Verse (16 baaria)\n- Chorus (8 baaria)\n- Outro (4 baaria)\n\n${vibe}`;
            document.getElementById('beatContent').textContent = output;
        }

        function generateVisuals() {
            const style = document.getElementById('visualStyle').value;
            let details = '- Neon-viivat\n- SyvÃ¤ kontrasti\n- Glitch-efektit';
            if (style === 'vainamonen') details = '- Kalevala-runous\n- Mystinen valo\n- Pohjan taika-merkinnÃ¤t';
            if (style === 'hardelo') details = '- Perinteinen folk-taide\n- Karjalainen sommittelu\n- Tanssivat hahmot';
            if (style === 'countrywood') details = '- LÃ¤nnen tunnelma\n- PÃ¶lypeikko ja aurinkosÃ¤teily\n- Maalaismaisema & neonit';
            const output = `ğŸ¨ VISUAALI DESIGN:\n\nTYYLI: ${style.toUpperCase()}\n\nDETAILIT:\n${details}\n- 4K resoluutio\n- 60fps animaatio`;
            document.getElementById('visualsContent').textContent = output;
        }

        function generateFull() {
            generateLyrics();
            generatePersona();
            generateBeat();
            generateVisuals();
            switchTab('lyrics');
        }

        function generateRandom() {
            const styles = ['trap', 'countrytrap', 'vainamonen', 'hardelo'];
            const personas = ['street', 'countryballer', 'vainamoinenbard', 'hardelosoitaja'];
            document.getElementById('lyricsStyle').value = styles[Math.floor(Math.random() * styles.length)];
            document.getElementById('personaType').value = personas[Math.floor(Math.random() * personas.length)];
            generateFull();
        }

        function toggleTheme() {
            document.body.classList.toggle('light-mode');
            const isDark = !document.body.classList.contains('light-mode');
            localStorage.setItem('theme', isDark ? 'dark' : 'light');
            document.getElementById('themeToggle').textContent = isDark ? 'ğŸŒ™' : 'â˜€ï¸';
        }

        function copyOutput() {
            const tabs = ['lyricsOutput', 'personaOutput', 'beatOutput', 'visualsOutput'];
            let activeTab = tabs.find(tab => document.getElementById(tab).style.display === 'block');
            const content = document.querySelector(`#${activeTab} .output-content`).textContent;
            navigator.clipboard.writeText(content).then(() => {
                alert('âœ… Kopioitu!');
            });
        }

        function saveOutput() {
            const data = {
                lyrics: document.getElementById('lyricsContent').textContent,
                persona: document.getElementById('personaContent').textContent,
                beat: document.getElementById('beatContent').textContent,
                visuals: document.getElementById('visualsContent').textContent,
                timestamp: new Date().toLocaleString('fi-FI')
            };
            localStorage.setItem('hiphopData_' + Date.now(), JSON.stringify(data));
            alert('âœ… Tallennettu!');
        }

        function loadOutput() {
            const keys = Object.keys(localStorage).filter(k => k.startsWith('hiphopData_'));
            if (keys.length === 0) {
                alert('âŒ Ei tietoja');
                return;
            }
            const data = JSON.parse(localStorage.getItem(keys[keys.length - 1]));
            document.getElementById('lyricsContent').textContent = data.lyrics;
            document.getElementById('personaContent').textContent = data.persona;
            document.getElementById('beatContent').textContent = data.beat;
            document.getElementById('visualsContent').textContent = data.visuals;
            alert('âœ… Ladattu!');
        }

        window.addEventListener('DOMContentLoaded', () => {
            const theme = localStorage.getItem('theme') || 'dark';
            if (theme === 'light') {
                document.body.classList.add('light-mode');
                document.getElementById('themeToggle').textContent = 'â˜€ï¸';
            }
        });

        generateLyrics();
    </script>
</body>
</html>
